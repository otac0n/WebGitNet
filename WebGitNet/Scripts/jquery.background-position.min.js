(function (a) { function d(a) { a = a.replace(/left|top/g, "0px"); a = a.replace(/right|bottom/g, "100%"); a = a.replace(/([0-9\.]+)(\s|\)|$)/g, "$1px$2"); var b = a.match(/(-?[0-9\.]+)(px|\%|em|pt)\s(-?[0-9\.]+)(px|\%|em|pt)/); return [parseFloat(b[1], 10), b[2], parseFloat(b[3], 10), b[4]] } if (!document.defaultView || !document.defaultView.getComputedStyle) { var b = a.curCSS; a.curCSS = function (a, c, d) { if (c === "background-position") { c = "backgroundPosition" } if (c !== "backgroundPosition" || !a.currentStyle || a.currentStyle[c]) { return b.apply(this, arguments) } var e = a.style; if (!d && e && e[c]) { return e[c] } return b(a, "backgroundPositionX", d) + " " + b(a, "backgroundPositionY", d) } } var c = a.fn.animate; a.fn.animate = function (a) { if ("background-position" in a) { a.backgroundPosition = a["background-position"]; delete a["background-position"] } if ("backgroundPosition" in a) { a.backgroundPosition = "(" + a.backgroundPosition } return c.apply(this, arguments) }; a.fx.step.backgroundPosition = function (b) { if (!b.bgPosReady) { var c = a.curCSS(b.elem, "backgroundPosition"); if (!c) { c = "0px 0px" } c = d(c); b.start = [c[0], c[2]]; var e = d(b.end); b.end = [e[0], e[2]]; b.unit = [e[1], e[3]]; b.bgPosReady = true } var f = []; f[0] = (b.end[0] - b.start[0]) * b.pos + b.start[0] + b.unit[0]; f[1] = (b.end[1] - b.start[1]) * b.pos + b.start[1] + b.unit[1]; b.elem.style.backgroundPosition = f[0] + " " + f[1] } })(jQuery)